@startuml REQ_7
autonumber
actor Collaborator as C 
boundary general.routes.json as Route
boundary home.ejs as home
control home.controller.js as HController
entity holiday_info.model as HModel
database Nebula as db
entity GoogleCalendarAPI as GoogleAPI

' --- Consultar dÃ­as feriados desde la BD ---
activate C
C -> Route : GET /
deactivate C 

activate Route
Route -> HController : get_holiday_info()
deactivate Route

activate HController
HController -> HModel : fetchAll()
deactivate HController

activate HModel 
HModel -> db : SELECT fecha_inicio, fecha_fin FROM evento
db -->> HModel : holiday_dates
HModel -->> HController : holiday_dates
deactivate HModel

activate HController
HController -> home : response.render("home.ejs", { holidays: holiday_dates })
deactivate HController

' --- Mostrar datos en Google Calendar (Frontend) ---
activate home
home -> GoogleAPI : Insert holidays into Google Calendar 
GoogleAPI -->> home : Render calendar with holidays
home -> C : Show updated calendar
deactivate home

@enduml
